root@A800:/home/cxxu/cuda_simt# ./mini_nccl_thread 
A800:26359:26359 [0] NCCL INFO cudaDriverVersion 12060
A800:26359:26359 [0] NCCL INFO NCCL_SOCKET_IFNAME set by environment to lo
A800:26359:26359 [0] NCCL INFO Bootstrap: Using lo:127.0.0.1<0>
A800:26359:26359 [0] NCCL INFO NCCL version 2.27.3+cuda12.9
A800:26359:26381 [1] NCCL INFO NET/Plugin: Plugin name set by env to libnccl-net.so
A800:26359:26381 [1] NCCL INFO NET/Plugin: Failed to find ncclNetPlugin_v10 symbol.
A800:26359:26381 [1] NCCL INFO NET/Plugin: Failed to find ncclNetPlugin_v9 symbol.
A800:26359:26381 [1] NCCL INFO NET/Plugin: Failed to find ncclNetPlugin_v8 symbol.
A800:26359:26381 [1] NCCL INFO NET/Plugin: Failed to find ncclNetPlugin_v7 symbol.
A800:26359:26381 [1] NCCL INFO NET/Plugin: Loaded net plugin NCCL RDMA Plugin v6 (v6)
A800:26359:26381 [1] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v10 symbol.
A800:26359:26381 [1] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v9 symbol.
A800:26359:26381 [1] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v8 symbol.
A800:26359:26381 [1] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v7 symbol.
A800:26359:26381 [1] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v6 symbol.
A800:26359:26381 [1] NCCL INFO Successfully loaded external plugin libnccl-net.so
A800:26359:26381 [1] NCCL INFO Plugin Path : /usr/local/lib/libnccl-net.so
A800:26359:26381 [1] NCCL INFO Plugin version : 1.3@Tencent Cloud
A800:26359:26381 [1] NCCL INFO P2P plugin IBext
A800:26359:26381 [1] NCCL INFO NCCL_SOCKET_IFNAME set by environment to lo
A800:26359:26381 [1] NCCL INFO NET/IB : Using [0]mlx5_0:1/IB [1]mlx5_1:1/IB [RO]; OOB lo:127.0.0.1<0>
A800:26359:26381 [1] NCCL INFO Initialized NET plugin NCCL RDMA Plugin v6
A800:26359:26381 [1] NCCL INFO Assigned NET plugin NCCL RDMA Plugin v6 to comm
A800:26359:26381 [1] NCCL INFO Using network NCCL RDMA Plugin v6
A800:26359:26380 [0] NCCL INFO Assigned NET plugin NCCL RDMA Plugin v6 to comm
A800:26359:26380 [0] NCCL INFO Using network NCCL RDMA Plugin v6
A800:26359:26381 [1] NCCL INFO DMA-BUF is available on GPU device 1
A800:26359:26380 [0] NCCL INFO DMA-BUF is available on GPU device 0
A800:26359:26380 [0] NCCL INFO ncclCommInitAll comm 0x55564cad9f80 rank 0 nranks 2 cudaDev 0 nvmlDev 0 busId 52000 commId 0x3b1dbdb2d39ac57f - Init START
A800:26359:26381 [1] NCCL INFO ncclCommInitAll comm 0x55564d650340 rank 1 nranks 2 cudaDev 1 nvmlDev 1 busId d6000 commId 0x3b1dbdb2d39ac57f - Init START

[2025-08-22 17:31:57] A800:26359:26381 [1] ras/client_support.cc:159 NCCL WARN Call to bind failed: Address already in use
A800:26359:26381 [1] NCCL INFO RAS failed to establish a client listening socket at localhost:28028
A800:26359:26381 [1] NCCL INFO Bootstrap timings total 0.001726 (create 0.000068, send 0.000278, recv 0.000476, ring 0.000069, delay 0.000001)
A800:26359:26380 [0] NCCL INFO Bootstrap timings total 0.001758 (create 0.000099, send 0.000320, recv 0.000581, ring 0.000052, delay 0.000000)
A800:26359:26381 [1] NCCL INFO NCCL_P2P_DISABLE set by environment to 1
A800:26359:26380 [0] NCCL INFO NCCL_P2P_DISABLE set by environment to 1
A800:26359:26380 [0] NCCL INFO NCCL_SHM_DISABLE set by environment to 1.
A800:26359:26380 [0] NCCL INFO Setting affinity for GPU 0 to 0-1,32-47
A800:26359:26381 [1] NCCL INFO Setting affinity for GPU 1 to 22-31,48-63
A800:26359:26381 [1] NCCL INFO comm 0x55564d650340 rank 1 nRanks 2 nNodes 2 localRanks 1 localRank 0 MNNVL 0
A800:26359:26380 [0] NCCL INFO comm 0x55564cad9f80 rank 0 nRanks 2 nNodes 2 localRanks 1 localRank 0 MNNVL 0
A800:26359:26381 [1] NCCL INFO Trees [0] -1/-1/-1->1->0 [1] 0/-1/-1->1->-1
A800:26359:26381 [1] NCCL INFO P2P Chunksize set to 131072
A800:26359:26380 [0] NCCL INFO Channel 00/02 : 0 1
A800:26359:26380 [0] NCCL INFO Channel 01/02 : 0 1
A800:26359:26380 [0] NCCL INFO Trees [0] 1/-1/-1->0->-1 [1] -1/-1/-1->0->1
A800:26359:26380 [0] NCCL INFO P2P Chunksize set to 131072
A800:26359:26381 [1] NCCL INFO PROFILER/Plugin: Could not find: libnccl-profiler.so. 
A800:26359:26385 [1] NCCL INFO [Proxy Service] Device 1 CPU core 25
A800:26359:26380 [0] NCCL INFO PROFILER/Plugin: Could not find: libnccl-profiler.so. 
A800:26359:26380 [0] NCCL INFO Check P2P Type isAllDirectP2p 0 directMode 0
A800:26359:26386 [1] NCCL INFO [Proxy Service UDS] Device 1 CPU core 31
A800:26359:26387 [0] NCCL INFO [Proxy Service] Device 0 CPU core 0
A800:26359:26388 [0] NCCL INFO [Proxy Service UDS] Device 0 CPU core 34
A800:26359:26381 [1] NCCL INFO threadThresholds 8/8/64 | 16/8/64 | 512 | 512
A800:26359:26381 [1] NCCL INFO 2 coll channels, 2 collnet channels, 0 nvls channels, 2 p2p channels, 2 p2p channels per peer
A800:26359:26380 [0] NCCL INFO threadThresholds 8/8/64 | 16/8/64 | 512 | 512
A800:26359:26380 [0] NCCL INFO 2 coll channels, 2 collnet channels, 0 nvls channels, 2 p2p channels, 2 p2p channels per peer
A800:26359:26381 [1] NCCL INFO TUNER/Plugin: Could not find: libnccl-tuner.so. Using internal tuner plugin.
A800:26359:26381 [1] NCCL INFO TUNER/Plugin: Failed to find ncclTunerPlugin_v4 symbol.
A800:26359:26381 [1] NCCL INFO TUNER/Plugin: Failed to find ncclTunerPlugin_v3 symbol.
A800:26359:26381 [1] NCCL INFO TUNER/Plugin: Failed to find ncclTunerPlugin_v2 symbol, using internal tuner instead.
A800:26359:26381 [1] NCCL INFO ncclCommInitAll comm 0x55564d650340 rank 1 nranks 2 cudaDev 1 nvmlDev 1 busId d6000 commId 0x3b1dbdb2d39ac57f - Init COMPLETE
A800:26359:26381 [1] NCCL INFO Init timings - ncclCommInitAll: rank 1 nranks 2 total 0.40 (kernels 0.32, alloc 0.04, bootstrap 0.00, allgathers 0.00, topo 0.03, graphs 0.00, connections 0.00, rest 0.00)
A800:26359:26380 [0] NCCL INFO CC Off, workFifoBytes 1048576
A800:26359:26380 [0] NCCL INFO ncclCommInitAll comm 0x55564cad9f80 rank 0 nranks 2 cudaDev 0 nvmlDev 0 busId 52000 commId 0x3b1dbdb2d39ac57f - Init COMPLETE
A800:26359:26380 [0] NCCL INFO Init timings - ncclCommInitAll: rank 0 nranks 2 total 0.40 (kernels 0.32, alloc 0.04, bootstrap 0.00, allgathers 0.00, topo 0.03, graphs 0.00, connections 0.00, rest 0.00)
[Rank 0] start ...
[Rank 1] start ...
[Rank 0] start ...
[Rank 0] start ...line: 58
[Rank 1] start ...
[Rank 1] start ...line: 58
A800:26359:26394 [0] NCCL INFO [Proxy Progress] Device 0 CPU core 36
A800:26359:26392 [0] NCCL INFO Channel 00/0 : 1[1] -> 0[0] [receive] via NET/NCCL RDMA Plugin v6/0/GDRDMA
A800:26359:26392 [0] NCCL INFO Channel 01/0 : 1[1] -> 0[0] [receive] via NET/NCCL RDMA Plugin v6/0/GDRDMA
A800:26359:26392 [0] NCCL INFO Channel 00/0 : 0[0] -> 1[1] [send] via NET/NCCL RDMA Plugin v6/0/GDRDMA
A800:26359:26392 [0] NCCL INFO Channel 01/0 : 0[0] -> 1[1] [send] via NET/NCCL RDMA Plugin v6/0/GDRDMA
A800:26359:26395 [1] NCCL INFO [Proxy Progress] Device 1 CPU core 22
A800:26359:26393 [1] NCCL INFO Channel 00/0 : 0[0] -> 1[1] [receive] via NET/NCCL RDMA Plugin v6/1/GDRDMA
A800:26359:26393 [1] NCCL INFO Channel 01/0 : 0[0] -> 1[1] [receive] via NET/NCCL RDMA Plugin v6/1/GDRDMA
A800:26359:26393 [1] NCCL INFO Channel 00/0 : 1[1] -> 0[0] [send] via NET/NCCL RDMA Plugin v6/1/GDRDMA
A800:26359:26393 [1] NCCL INFO Channel 01/0 : 1[1] -> 0[0] [send] via NET/NCCL RDMA Plugin v6/1/GDRDMA
A800:26359:26392 [0] NCCL INFO Connected all rings, use ring PXN 0 GDR 1
A800:26359:26393 [1] NCCL INFO Connected all rings, use ring PXN 0 GDR 1
[Rank 1] start ...line: 61
[Rank 0] start ...line: 61

